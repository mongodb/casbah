<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Project.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 - 2013 10gen, Inc. &lt;http://10gen.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah.query.dsl
<span class="keyword">package</span> aggregation

<span class="keyword">import</span> com.mongodb.casbah.query.<a href="Implicits.scala.html#10236" title="object com.mongodb.casbah.query.Imports">Imports</a>._
<span class="keyword">import</span> com.mongodb.casbah.query.ChainedOperator

<span class="comment">/**
 * Base trait to implement $project
 * 
 * @author brendan
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.PipelineOperator with ScalaObject" id="10303">ProjectOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="package.scala.html#10365" title="com.mongodb.casbah.query.dsl.aggregation.PipelineOperator">PipelineOperator</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="34417">operator</a> = <span title="java.lang.String(&quot;$project&quot;)" class="string">&quot;$project&quot;</span>
    
  <span class="comment">// TODO - Validate only valid field entries?</span>
  <span class="keyword">def</span> <a title="(target: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34419">$project</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="42977">target</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span> = <a href="package.scala.html#34392" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34417" title="=&gt; java.lang.String">operator</a>, <a href="#42977" title="com.mongodb.casbah.query.Imports.DBObject">target</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(fields: (String, Any)*)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34420">$project</a><span class="delimiter">(</span><a title="(String, Any)*" id="42980">fields</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
     <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]" id="42983">bldr</a> = <a href="Implicits.scala.html#10236" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">newBuilder</span>
     <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="43039">k</a>, <a title="Any" id="43040">v</a><span class="delimiter">)</span> &lt;- <a href="#42980" title="(f: ((String, Any)) =&gt; scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject])Unit">fields</a><span class="delimiter">)</span> <a href="#42983" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a> <span title="(elem: (String, Any))bldr.type">+=</span> <a href="#43039" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43040" title="Any">v</a>
     <a href="package.scala.html#34392" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34417" title="=&gt; java.lang.String">operator</a>, <a href="#42983" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a>.<span title="()com.mongodb.casbah.commons.Imports.DBObject">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperators extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator" id="10304">ProjectSubOperators</a> <span class="keyword">extends</span> <a href="#10309" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator">ProjectAndBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10310" title="com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator">ProjectOrBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10311" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator">ProjectNotBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10312" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator">ProjectCmpComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10313" title="com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator">ProjectEqComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10314" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator">ProjectGtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10315" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator">ProjectGteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10316" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator">ProjectLtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10317" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator">ProjectLteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10318" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator">ProjectNeComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10319" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator">ProjectAddArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10321" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator">ProjectDivideArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10320" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator">ProjectMultiplyArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10322" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator">ProjectSubtractArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10323" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator">ProjectCaseInsensitiveCompareStringOperator</a>
  <span class="keyword">with</span> <a href="#10324" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator">ProjectSubstringStringOperator</a>
  <span class="keyword">with</span> <a href="#10326" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator">ProjectToUpperStringOperator</a>
  <span class="keyword">with</span> <a href="#10325" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator">ProjectToLowerStringOperator</a>
  <span class="keyword">with</span> <a href="#10327" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator">ProjectDayOfYearDateOperator</a>
  <span class="keyword">with</span> <a href="#10329" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator">ProjectDayOfWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10328" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator">ProjectDayOfMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10331" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator">ProjectMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10332" title="com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator">ProjectWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10333" title="com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator">ProjectHourDateOperator</a>
  <span class="keyword">with</span> <a href="#10334" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator">ProjectMinuteDateOperator</a>
  <span class="keyword">with</span> <a href="#10335" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator">ProjectSecondDateOperator</a>
  <span class="keyword">with</span> <a href="#10336" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator">ProjectCondConditionalOperator</a>
  <span class="keyword">with</span> <a href="#10337" title="com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator">ProjectIfNullConditionalOperator</a>
  

<span class="keyword">trait</span> <a title="trait ProjectSubExpressionObject extends java.lang.Object" id="10305">ProjectSubExpressionObject</a> <span title="java.lang.Object" class="delimiter">{</span>
  self: DBObject =&gt;
  <span class="keyword">def</span> <a title="=&gt; String" id="43069">field</a>: <span title="String">String</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="10306">ProjectSubExpressionObject</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A &lt;: String, B](kv: (A, B))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43073">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: String" id="43076">A</a> &lt;: String, <a title="&gt;: Nothing &lt;: Any" id="43077">B</a> &lt;: Any<span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B)" id="43079">kv</a>: <span title="(A, B)" class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#43080" title="ProjectSubExpressionObject extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43083">obj</a> = <a href="#43084" title="com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject{}" class="keyword">new</a> <a href="Implicits.scala.html#10236" title="anonymous class $anon extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43084">BasicDBObject</a> <span class="keyword">with</span> <a href="#10305" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="A" id="43086">field</a> = <a href="#43079" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span> <span class="delimiter">}</span>
    <a href="#43083" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43079" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span>, <a href="#43079" title="(A, B)">kv</a>.<span title="=&gt; B">_2</span><span class="delimiter">)</span>
    <a href="#43083" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperator extends java.lang.Object with com.mongodb.casbah.query.ChainedOperator with ScalaObject" id="10308">ProjectSubOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Implicits.scala.html#10233" title="com.mongodb.casbah.query.ChainedOperator">ChainedOperator</a> <span class="delimiter">{</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23338">projectionOp</a><span class="delimiter">(</span><a title="String" id="43204">oper</a>: <span title="String">String</span>, <a title="Any" id="43205">target</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#43206" title="ProjectSubOperator extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <a href="#43073" title="(kv: (String, com.mongodb.casbah.commons.Imports.DBObject))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a><span class="delimiter">(</span><a href="Implicits.scala.html#23221" title="=&gt; Option[com.mongodb.casbah.commons.Imports.DBObject]">dbObj</a> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">Some</span><span class="delimiter">(</span><a title="com.mongodb.casbah.commons.Imports.DBObject" id="43212">nested</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#43212" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43204" title="String">oper</a>, <a href="#43205" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23220" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43212" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">None</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="com.mongodb.casbah.commons.Imports.DBObject" id="43229">opMap</a> = <a href="Implicits.scala.html#10236" title="(elems: (String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#43204" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43205" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23220" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43229" title="com.mongodb.casbah.commons.Imports.DBObject">opMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**** BOOLEAN OPERATORS */</span>

<span class="comment">/**
 * $and 
 * 
 * BOOLEAN AND 
 * 
 * Takes an array of one or more values, returning true/false 
 * using short circuiting logic.
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAndBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10309">ProjectAndBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$1: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43301">$and</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23342">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43300">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43305">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43300" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43322">x</a> =&gt; <a href="#43305" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43301" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10254" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21532" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43322" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23343" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$and</a><span class="delimiter">(</span><a href="#43305" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23343">$and</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43337">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$and&quot;)" class="string">&quot;$and&quot;</span>, <a href="#43337" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $or
 * 
 * BOOLEAN OR 
 * 
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOrBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10310">ProjectOrBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43364">$or</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23347">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43363">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43368">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43363" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43385">x</a> =&gt; <a href="#43368" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43364" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10254" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21532" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43385" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23348" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$or</a><span class="delimiter">(</span><a href="#43368" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23348">$or</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43400">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$or&quot;)" class="string">&quot;$or&quot;</span>, <a href="#43400" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * 
 * $not
 * 
 * BOOLEAN NOT
 * 
 * Takes a single argument, either a Boolean or a field containing a boolean, 
 * and returns the boolean opposite
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNotBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10311">ProjectNotBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23350">$not</a><span class="delimiter">(</span><a title="String" id="43426">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43426" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;)" class="string">&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43426" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(target: Boolean)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23351">$not</a><span class="delimiter">(</span><a title="Boolean" id="43433">target</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43433" title="Boolean">target</a><span class="delimiter">)</span>
    
<span class="delimiter">}</span>

<span class="comment">/**** COMPARISON OPERATORS 
 * These opers take an array w/ a pair of values.
 * All but $cmp return a boolean 
 */</span>

<span class="comment">/** 
 * $cmp 
 * 
 * Compare two values, returning an integer 
 * 
 * NEGATIVE - First Value &lt; Second Value
 * POSITIVE - First Value &gt; Second Value
 *        0 - Both Values Equal 
 *  
 *  ex: 
 *     &quot;foo&quot; $cmp (&quot;$name1&quot;, &quot;$name2&quot;) 
 *      
 *  remember for sub-fields to use $, we can't cleanly validate here
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCmpComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10312">ProjectCmpComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23353">$cmp</a><span class="delimiter">(</span><a title="Any" id="43438">first</a>: <span title="Any">Any</span>, <a title="Any" id="43439">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cmp&quot;)" class="string">&quot;$cmp&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43438" title="Any">first</a>, <a href="#43439" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $eq
 * 
 * Does first value equal second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectEqComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10313">ProjectEqComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23355">$eq</a><span class="delimiter">(</span><a title="Any" id="43447">first</a>: <span title="Any">Any</span>, <a title="Any" id="43448">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$eq&quot;)" class="string">&quot;$eq&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43447" title="Any">first</a>, <a href="#43448" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $gt
 * 
 * Is first value greater than second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10314">ProjectGtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23357">$gt</a><span class="delimiter">(</span><a title="Any" id="43456">first</a>: <span title="Any">Any</span>, <a title="Any" id="43457">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gt&quot;)" class="string">&quot;$gt&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43456" title="Any">first</a>, <a href="#43457" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $gte
 * 
 * Is first value greater than or equal to the second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10315">ProjectGteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23359">$gte</a><span class="delimiter">(</span><a title="Any" id="43465">first</a>: <span title="Any">Any</span>, <a title="Any" id="43466">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gte&quot;)" class="string">&quot;$gte&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43465" title="Any">first</a>, <a href="#43466" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $lt
 * 
 * Is first value less than second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10316">ProjectLtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23361">$lt</a><span class="delimiter">(</span><a title="Any" id="43474">first</a>: <span title="Any">Any</span>, <a title="Any" id="43475">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lt&quot;)" class="string">&quot;$lt&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43474" title="Any">first</a>, <a href="#43475" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $lte
 * 
 * Is first value less than or equal to the second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10317">ProjectLteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23363">$lte</a><span class="delimiter">(</span><a title="Any" id="43483">first</a>: <span title="Any">Any</span>, <a title="Any" id="43484">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lte&quot;)" class="string">&quot;$lte&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43483" title="Any">first</a>, <a href="#43484" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ne
 * 
 * Is first value not equal to the second value?
 * 
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNeComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10318">ProjectNeComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23365">$ne</a><span class="delimiter">(</span><a title="Any" id="43492">first</a>: <span title="Any">Any</span>, <a title="Any" id="43493">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ne&quot;)" class="string">&quot;$ne&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43492" title="Any">first</a>, <a href="#43493" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/****** ARITHMETIC OPERATORS */</span>

<span class="comment">/** 
 * $add
 * 
 * Adds an array of one or more numbers together, returning the resulting sum.
 * 
 * Could be #s or field refs.
 * 
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAddArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10319">ProjectAddArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$3: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43502">$add</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23369">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43501">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43506">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43501" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43523">x</a> =&gt; <a href="#43506" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43502" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10254" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21532" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43523" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23370" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$add</a><span class="delimiter">(</span><a href="#43506" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23370">$add</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43538">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$add&quot;)" class="string">&quot;$add&quot;</span>, <a href="#43538" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $multiply
 * 
 * Multiply an array of one or more numbers together, returning the result.
 * 
 * Could be #s or field refs.
 * 
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMultiplyArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10320">ProjectMultiplyArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$4: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43565">$multiply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23376">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43564">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43569">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43564" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43586">x</a> =&gt; <a href="#43569" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43565" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10254" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21532" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43586" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23377" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$multiply</a><span class="delimiter">(</span><a href="#43569" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23377">$multiply</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43601">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$multiply&quot;)" class="string">&quot;$multiply&quot;</span>, <a href="#43601" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** NOTE $mod already fully implemented in query DSL; exact same syntax/behavior */</span>

<span class="comment">/**
 * $divide
 * 
 * Takes a PAIR of numbers, divides 1/2, returning result
 * Can be field ref or #
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDivideArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10321">ProjectDivideArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(numerator: Any, denominator: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23372">$divide</a><span class="delimiter">(</span><a title="Any" id="43627">numerator</a>: <span title="Any">Any</span>, <a title="Any" id="43628">denominator</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$divide&quot;)" class="string">&quot;$divide&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43627" title="Any">numerator</a>, <a href="#43628" title="Any">denominator</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $subtract
 * 
 * takes a PAIR of numbers, subtracts 2 from 1, returns difference
 * 
 * Can be a field ref or #
 * TODO - Typeclass me
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubtractArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10322">ProjectSubtractArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23379">$subtract</a><span class="delimiter">(</span><a title="Any" id="43636">first</a>: <span title="Any">Any</span>, <a title="Any" id="43637">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$subtract&quot;)" class="string">&quot;$subtract&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43636" title="Any">first</a>, <a href="#43637" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/***** STRING OPERATORS 
 *  note that most of these string operators have serious bugs with non-roman glyphs.
 */</span>

<span class="comment">/** 
 * $strcasecmp 
 * 
 * Takes a PAIR of strings (either a Field ref or an actual string)
 * and compares them in a case-insensitive fashion.
 * RETURN 
 *    -# if first &gt; second
 *    +# if first &lt; second
 *     0 if both are identical
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCaseInsensitiveCompareStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10323">ProjectCaseInsensitiveCompareStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: String, second: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23381">$strcasecmp</a><span class="delimiter">(</span><a title="String" id="43645">first</a>: <span title="String">String</span>, <a title="String" id="43646">second</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$strcasecmp&quot;)" class="string">&quot;$strcasecmp&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: String*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43645" title="String">first</a>, <a href="#43646" title="String">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $substr
 *
 * Extracts a substring from a string.
 * (String, Int, Int) -
 *   String - A string or field ref to extract from
 *   Int1 - # of bytes to skip
 *   Int2 - # of bytes to return
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubstringStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10324">ProjectSubstringStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String, skip: Int, ret: Int)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23383">$substr</a><span class="delimiter">(</span><a title="String" id="43654">target</a>: <span title="String">String</span>, <a title="Int" id="43655">skip</a>: <span title="Int">Int</span>, <a title="Int" id="43656">ret</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$substr&quot;)" class="string">&quot;$substr&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43654" title="String">target</a>, <a href="#43655" title="Int">skip</a>, <a href="#43656" title="Int">ret</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $toLower 
 * 
 * Convert a string to lowercase, returning the result
 * 
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToLowerStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10325">ProjectToLowerStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23387">$toLower</a><span class="delimiter">(</span><a title="String" id="43673">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toLower&quot;)" class="string">&quot;$toLower&quot;</span>, <a href="#43673" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** 
 * $toUpper
 * 
 * Convert a string to uppercase, returning the result
 * 
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToUpperStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10326">ProjectToUpperStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23385">$toUpper</a><span class="delimiter">(</span><a title="String" id="43678">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toUpper&quot;)" class="string">&quot;$toUpper&quot;</span>, <a href="#43678" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*** DATE OPERATIONS 
 * Take a date field or a raw date 
 */</span>

<span class="comment">/**
 * $dayOfYear
 * 
 * Extracts the day of year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10327">ProjectDayOfYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23389">$dayOfYear</a><span class="delimiter">(</span><a title="String" id="43683">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43683" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43683" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$5: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43691">$dayOfYear</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23392">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43690">target</a>: <a href="#23392" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43690" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfMonth
 * 
 * Extracts the day of month from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10328">ProjectDayOfMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23399">$dayOfMonth</a><span class="delimiter">(</span><a title="String" id="43698">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43698" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43698" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$6: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43706">$dayOfMonth</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23402">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43705">target</a>: <a href="#23402" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43705" title="T">target</a><span class="delimiter">)</span>
    
<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfWeek
 * 
 * Extracts the day of Week from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10329">ProjectDayOfWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23394">$dayOfWeek</a><span class="delimiter">(</span><a title="String" id="43713">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43713" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#43713" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$7: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43721">$dayOfWeek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23397">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43720">target</a>: <a href="#23397" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#43720" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $year
 * 
 * Extracts the full year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10330">ProjectYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43727">$year</a><span class="delimiter">(</span><a title="String" id="43733">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43733" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#43733" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43741">$year</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43730">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43740">target</a>: <a href="#43730" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#43740" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $month
 * 
 * Extracts the month (1-12) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10331">ProjectMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23404">$month</a><span class="delimiter">(</span><a title="String" id="43748">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43748" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#43748" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$9: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43756">$month</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23407">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43755">target</a>: <a href="#23407" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#43755" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $week
 * 
 * Extracts the day of Week from a BSON date
 *  value: 0-53, if a day falls before the first sunday of year, in week 0
 *  Same value as strftime(&quot;%U&quot;) yields in unix stdlib
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10332">ProjectWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23409">$week</a><span class="delimiter">(</span><a title="String" id="43763">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43763" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#43763" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$10: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43771">$week</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23412">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43770">target</a>: <a href="#23412" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#43770" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $hour
 * 
 * Extracts the hour (0-23) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectHourDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10333">ProjectHourDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23414">$hour</a><span class="delimiter">(</span><a title="String" id="43778">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43778" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#43778" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$11: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43786">$hour</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23417">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43785">target</a>: <a href="#23417" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#43785" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $minute
 * 
 * Extracts the minute (0-59) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMinuteDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10334">ProjectMinuteDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23419">$minute</a><span class="delimiter">(</span><a title="String" id="43793">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43793" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#43793" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43801">$minute</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23422">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43800">target</a>: <a href="#23422" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#43800" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 

<span class="comment">/**
 * $second
 * 
 * Extracts the second  from a BSON date
 *  value: 0-59 *but*, can be 60 in the case of a leap second
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSecondDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10335">ProjectSecondDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23424">$second</a><span class="delimiter">(</span><a title="String" id="43808">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43808" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;</span><span class="delimiter">)</span>
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#43808" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43816">$second</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23427">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43815">target</a>: <a href="#23427" title="T">T</a><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#43815" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span> 


<span class="comment">/*** CONDITIONAL EXPRESSIONS */</span>

<span class="comment">/**
 * $cond
 * 
 * takes three expressions
 * evaluates first expression to boolean
 *  if first evals true, evaluates &amp; returns second 
 *  if first evals false, evaluates &amp; returns third
 * 
 * TODO - Better type limiting?
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCondConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10336">ProjectCondConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](condition: T, ifTrue: Any, elseIfFalse: Any)(implicit evidence$14: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43826">$cond</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23431">T</a>: ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43823">condition</a>: <a href="#23431" title="T">T</a>, <a title="Any" id="43824">ifTrue</a>: <span title="Any">Any</span>, <a title="Any" id="43825">elseIfFalse</a>: <span title="Any">Any</span><span class="delimiter">)</span> = 
    <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cond&quot;)" class="string">&quot;$cond&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43823" title="T">condition</a>, <a href="#43824" title="Any">ifTrue</a>, <a href="#43825" title="Any">elseIfFalse</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ifNull
 * 
 * Takes array w/ two expressions 
 *  if first evals non-null, returns it
 *  else, returns evaluation of second expression
 *  
 *  TODO - Better type limiting
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectIfNullConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10337">ProjectIfNullConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(expression: Any, replacementIfNull: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23433">$ifNull</a><span class="delimiter">(</span><a title="Any" id="43838">expression</a>: <span title="Any">Any</span>, <a title="Any" id="43839">replacementIfNull</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23338" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ifNull&quot;)" class="string">&quot;$ifNull&quot;</span>, <a href="Implicits.scala.html#10236" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43838" title="Any">expression</a>, <a href="#43839" title="Any">replacementIfNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>