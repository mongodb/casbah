<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>2.7. Query DSL &mdash; Casbah (MongoDB + Scala Toolkit) Documentation 2.6.3 documentation</title>

    <link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
    <meta name="robots" content="index" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    
    
    <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.6.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="top" title="Casbah (MongoDB + Scala Toolkit) Documentation 2.6.3 documentation" href="../index.html" />
<link rel="up" title="2. User Guide" href="index.html" />
<link rel="next" title="2.8. Aggregation Framework" href="aggregation.html" />
<link rel="prev" title="2.6. Querying" href="querying.html" />
<!-- Put the following javascript before the closing </head> tag. -->
<script>
  (function() {
    var cx = '017213726194841070573:WMX6838984';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
  </head>
  <body>
<div id="top-right">
        <div class="user-right">
                <ul id="header-menu-bar" class="ajs-menu-bar">
                <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
                <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
                <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
                <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
                <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
                <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
                </ul>
        </div>
</div>
<div id="header-db" class="spread">
        <div class="split">
                <div id="logo">
                        <div><a href="../index.html"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
                </div>
        </div>

<div class="search-db"><gcse:searchbox></gcse:searchbox></div>
<div id="etp">
<ul>
<li><a href="https://github.com/mongodb/casbah/blob/master/src/sphinx/guide/query_dsl.rst" target="_blank" title="Edit guide/query_dsl.rst on github">Edit this Page</a></li>
<li><a href="http://github.com/mongodb/casbah" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
<li><a href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22guide/query_dsl%2Etxt%22" target="_blank" title="Report a problem with guide/query_dsl.txt on Jira">Report a problem</a></li>
</ul>
</div>
</div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div id="cse-results"><gcse:searchresults></gcse:searchresults></div>
            
  <div class="section" id="query-dsl">
<h1>2.7. Query DSL<a class="headerlink" href="#query-dsl" title="Permalink to this headline">¶</a></h1>
<p>Casbah provides a rich fluid query syntax, that allows you to
construct <tt class="docutils literal"><span class="pre">DBObjects</span></tt> on the fly using MongoDB query operators.</p>
<div class="section" id="query-selectors">
<h2>2.7.1. Query Selectors<a class="headerlink" href="#query-selectors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="comparison-operators">
<h3>2.7.1.1. Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$all</span></tt> Matches arrays that contain all elements specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;size&quot;</span> <span class="nc">$all</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;M&quot;</span><span class="o">,</span> <span class="s">&quot;L&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$eq</span></tt> Matches values that are equal to the value specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;price&quot;</span> <span class="nc">$eq</span> <span class="mi">10</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$gt</span></tt> Matches values that are greater than the value specified in the query</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$gte</span></tt> Matches values that are equal to or greater than the value specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;price&quot;</span> <span class="nc">$gt</span> <span class="mi">10</span>
<span class="s">&quot;price&quot;</span> <span class="nc">$gte</span> <span class="mi">10</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$in</span></tt> Matches any of the values that exist in an array specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;size&quot;</span> <span class="nc">$in</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;M&quot;</span><span class="o">,</span> <span class="s">&quot;L&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$lt</span></tt> Matches values that are less than the value specified in the query</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$lte</span></tt> Matches values that are less than or equal to the value specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">100</span>
<span class="s">&quot;price&quot;</span> <span class="nc">$lte</span> <span class="mi">100</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$ne</span></tt> Matches all values that are not equal to the value specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;price&quot;</span> <span class="nc">$ne</span> <span class="mi">1000</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$nin</span></tt> Matches values that <strong>do not</strong> exist in an array specified:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;size&quot;</span> <span class="nc">$in</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;XXL&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="logical-operators">
<h3>2.7.1.2. Logical Operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$or</span></tt> Joins query clauses with a logical <tt class="docutils literal"><span class="pre">OR</span></tt> returns all
documents that match the conditions of either clause:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$or</span><span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">5</span> <span class="nc">$gt</span> <span class="mi">1</span><span class="o">,</span> <span class="s">&quot;promotion&quot;</span> <span class="nc">$eq</span> <span class="kc">true</span> <span class="o">)</span>
<span class="nc">$or</span><span class="o">(</span> <span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">5</span> <span class="nc">$gt</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">::</span> <span class="o">(</span> <span class="s">&quot;stock&quot;</span> <span class="nc">$gte</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$and</span></tt> Joins query clauses with a logical <tt class="docutils literal"><span class="pre">AND</span></tt> returns all
documents that match the conditions of both clauses:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$and</span><span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">5</span> <span class="nc">$gt</span> <span class="mi">1</span><span class="o">,</span> <span class="s">&quot;stock&quot;</span> <span class="nc">$gte</span> <span class="mi">1</span> <span class="o">)</span>
<span class="nc">$and</span><span class="o">(</span> <span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">5</span> <span class="nc">$gt</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">::</span> <span class="o">(</span> <span class="s">&quot;stock&quot;</span> <span class="nc">$gte</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$not</span></tt> Inverts the effect of a query expression and returns
documents that do <em>not</em> match the query expression:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;price&quot;</span> <span class="nc">$not</span> <span class="o">{</span> <span class="k">_</span> <span class="nc">$gte</span> <span class="mf">5.1</span> <span class="o">}</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$nor</span></tt> Joins query clauses with a logical <tt class="docutils literal"><span class="pre">NOR</span></tt> returns all
documents that fail to match both clauses:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$nor</span><span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$eq</span> <span class="mf">1.99</span> <span class="o">,</span> <span class="s">&quot;qty&quot;</span> <span class="nc">$lt</span> <span class="mi">20</span><span class="o">,</span> <span class="s">&quot;sale&quot;</span> <span class="nc">$eq</span> <span class="kc">true</span> <span class="o">)</span>
<span class="nc">$nor</span><span class="o">(</span> <span class="o">(</span> <span class="s">&quot;price&quot;</span> <span class="nc">$lt</span> <span class="mi">5</span> <span class="nc">$gt</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">::</span> <span class="o">(</span> <span class="s">&quot;stock&quot;</span> <span class="nc">$gte</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="element-operators">
<h3>2.7.1.3. Element Operators<a class="headerlink" href="#element-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$exists</span></tt> Matches documents that have the specified field:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;qty&quot;</span> <span class="nc">$exists</span> <span class="kc">true</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$mod</span></tt> Performs a modulo operation on the value of a field and selects
documents with a specified result:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;qty&quot;</span> <span class="nc">$mod</span> <span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$type</span></tt> Selects documents if a field is of the specified type:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;size&quot;</span><span class="o">.</span><span class="nc">$type</span><span class="o">[</span><span class="kt">BasicDBList</span><span class="o">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="javascript-operators">
<h3>2.7.1.4. JavaScript Operators<a class="headerlink" href="#javascript-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$where</span></tt> Matches documents that satisfy a JavaScript expression:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$where</span><span class="o">(</span><span class="s">&quot;function () { this.credits == this.debits }&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$regex</span></tt> Selects documents where values match a specified regular expression.
You can also use native regular expressions:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;foo&quot;</span> <span class="nc">$regex</span> <span class="s">&quot;^bar$&quot;</span>
<span class="s">&quot;foo&quot;</span> <span class="nc">$eq</span> <span class="s">&quot;^bar$&quot;</span><span class="o">.</span><span class="n">r</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="geospatial-operators">
<h3>2.7.1.5. Geospatial Operators<a class="headerlink" href="#geospatial-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$geoWithin</span></tt> Selects geometries within a bounding <a class="reference external" href="http://docs.mongodb.org/manual/reference/glossary/#term-geojson">GeoJSON</a> geometry:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// Create a GeoJson geometry document</span>
<span class="k">var</span> <span class="n">geo</span> <span class="k">=</span> <span class="nc">MongoDBObject</span><span class="o">(</span><span class="s">&quot;$geometry&quot;</span> <span class="o">-&gt;</span>
        <span class="nc">MongoDBObject</span><span class="o">(</span><span class="s">&quot;$type&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;polygon&quot;</span><span class="o">,</span>
          <span class="s">&quot;coordinates&quot;</span> <span class="o">-&gt;</span> <span class="o">(((</span><span class="nc">GeoCoords</span><span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">),</span>
                              <span class="nc">GeoCoords</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="mi">456</span><span class="o">),</span>
                              <span class="nc">GeoCoords</span><span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">))))))</span>

<span class="c1">// Example $geoWithin Queries</span>
<span class="s">&quot;location&quot;</span> <span class="nc">$geoWithin</span><span class="o">(</span><span class="n">geo</span><span class="o">)</span>
<span class="s">&quot;location&quot;</span> <span class="nc">$geoWithin</span> <span class="nc">$box</span> <span class="o">((</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">),</span> <span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="mi">456</span><span class="o">))</span>
<span class="s">&quot;location&quot;</span> <span class="nc">$geoWithin</span> <span class="nc">$center</span> <span class="o">((</span><span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">),</span> <span class="mi">10</span><span class="o">)</span>
<span class="s">&quot;location&quot;</span> <span class="nc">$geoWithin</span> <span class="nc">$centerSphere</span> <span class="o">((</span><span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">),</span> <span class="mi">10</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$geoIntersects</span></tt> Selects geometries that intersect with a  <a class="reference external" href="http://docs.mongodb.org/manual/reference/glossary/#term-geojson">GeoJSON</a> geometry:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// Create a GeoJson geometry document</span>
<span class="k">var</span> <span class="n">geo</span> <span class="k">=</span> <span class="nc">MongoDBObject</span><span class="o">(</span><span class="s">&quot;$geometry&quot;</span> <span class="o">-&gt;</span>
            <span class="nc">MongoDBObject</span><span class="o">(</span><span class="s">&quot;$type&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;polygon&quot;</span><span class="o">,</span>
              <span class="s">&quot;coordinates&quot;</span> <span class="o">-&gt;</span> <span class="o">(((</span><span class="nc">GeoCoords</span><span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">),</span>
                                  <span class="nc">GeoCoords</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="mi">456</span><span class="o">),</span>
                                  <span class="nc">GeoCoords</span><span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">))))))</span>
<span class="k">val</span> <span class="n">near</span> <span class="k">=</span> <span class="s">&quot;location&quot;</span> <span class="nc">$geoIntersects</span> <span class="n">geo</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$near</span></tt> Returns geospatial objects in proximity to a point:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;location&quot;</span> <span class="nc">$near</span> <span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$nearSphere</span></tt> Returns geospatial objects in proximity to a point on a sphere:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;location&quot;</span> <span class="nc">$nearSphere</span> <span class="o">(</span><span class="mf">74.2332</span><span class="o">,</span> <span class="o">-</span><span class="mf">75.23452</span><span class="o">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="array-query-operators">
<h3>2.7.1.6. Array Query Operators<a class="headerlink" href="#array-query-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$elemMatch</span></tt> Selects documents if element in the array field matches all
the specified <tt class="docutils literal"><span class="pre">$elemMatch</span></tt> conditions:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;colour&quot;</span> <span class="nc">$elemMatch</span> <span class="o">(</span><span class="nc">MongoDBObject</span><span class="o">(</span><span class="s">&quot;base&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;red&quot;</span><span class="o">,</span> <span class="s">&quot;flash&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;silver&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$size</span></tt> Selects documents if the array field is a specified size:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;comments&quot;</span> <span class="nc">$size</span> <span class="mi">12</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="update-dsl-operators">
<h2>2.7.2. Update DSL Operators<a class="headerlink" href="#update-dsl-operators" title="Permalink to this headline">¶</a></h2>
<div class="section" id="field-operators">
<h3>2.7.2.1. Field Operators<a class="headerlink" href="#field-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$inc</span></tt> Increments the value of the field by the specified amount:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$inc</span><span class="o">(</span><span class="s">&quot;sold&quot;</span> <span class="o">-&gt;</span> <span class="mi">1</span><span class="o">,</span> <span class="s">&quot;stock&quot;</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$rename</span></tt> Renames a field:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$rename</span><span class="o">(</span><span class="s">&quot;color&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;colour&quot;</span><span class="o">,</span> <span class="s">&quot;realize&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;realise&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$setOnInsert</span></tt> Sets the value of a field upon documentation creation
during an upsert. Has no effect on update operations that modify existing
documents:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$setOnInsert</span><span class="o">(</span><span class="s">&quot;promotion&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;new&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$set</span></tt> Sets the value of a field in an existing document</p>
<blockquote>
<div><p>$set(&quot;promotion&quot; -&gt; &quot;sale&quot;, &quot;qty&quot; -&gt; 100)</p>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$unset</span></tt> Removes the specified field from an existing document</p>
<blockquote>
<div><p>$unset(&quot;promotion&quot;)</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="array-update-operators">
<h3>2.7.2.2. Array Update Operators<a class="headerlink" href="#array-update-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$addToSet</span></tt> Adds elements to an existing array only if they do not
already exist in the set:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$addToSet</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;L&quot;</span><span class="o">,</span> <span class="s">&quot;colours&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;Blue&quot;</span><span class="o">)</span>
<span class="nc">$addToSet</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span><span class="o">)</span> <span class="nc">$each</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;M&quot;</span><span class="o">,</span> <span class="s">&quot;L&quot;</span><span class="o">,</span> <span class="s">&quot;XL&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$pop</span></tt> Removes the first or last item of an array:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$pop</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;L&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$pull</span></tt> Removes items from an array that match a query statement:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$pull</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;L&quot;</span><span class="o">)</span>
<span class="nc">$pull</span><span class="o">(</span><span class="s">&quot;widgets&quot;</span> <span class="nc">$gt</span> <span class="mi">2</span> <span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$pullAll</span></tt> Removes multiple values from an array:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$pullAll</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;XL&quot;</span><span class="o">))</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$push</span></tt> Adds an item to an array:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$push</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;L&quot;</span><span class="o">)</span>
<span class="nc">$push</span><span class="o">(</span><span class="s">&quot;widgets&quot;</span> <span class="nc">$gt</span> <span class="mi">2</span> <span class="o">)</span>
<span class="nc">$push</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span><span class="o">)</span> <span class="nc">$each</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;M&quot;</span><span class="o">,</span> <span class="s">&quot;L&quot;</span><span class="o">,</span> <span class="s">&quot;XL&quot;</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$pushAll</span></tt> <em>Deprecated.</em> Adds several items to an array:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$pushAll</span><span class="o">(</span><span class="s">&quot;sizes&quot;</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">,</span> <span class="s">&quot;XL&quot;</span><span class="o">))</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="bitwise-operators">
<h2>2.7.3. Bitwise Operators<a class="headerlink" href="#bitwise-operators" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$bit</span></tt> Performs bitwise <tt class="docutils literal"><span class="pre">AND</span></tt> and <tt class="docutils literal"><span class="pre">OR</span></tt> updates of integer values:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="nc">$bit</span><span class="o">(</span><span class="s">&quot;foo&quot;</span><span class="o">)</span> <span class="n">and</span> <span class="mi">5</span>
</pre></div>
</div>
</li>
</ul>
<p>For the full query syntax to MongoDB see the core docs at:
<a class="reference external" href="http://docs.mongodb.org">docs.mongodb.org</a></p>
</div>
</div>


<div id="btnv">
<ul id="btnvl">
<li id="btnvpr"><a href="querying.html" title="Previous Section: 2.6. Querying">&lt; &nbsp; 2.6. Querying</a></li>
<li id="btnvup"><a href="index.html" title="Parent Section: 2. User Guide" >&#47;&#92;&nbsp; 2. User Guide</a></li>
<li id="btnvnx"><a href="aggregation.html" title="Next Section: 2.8. Aggregation Framework">2.8. Aggregation Framework &nbsp;&gt;</a></li>
</ul>
</div>
</div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3><a href="../index.html">Casbah, Scala Driver</a>

<small><a href="../genindex.html">(Index)</a></small>

</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">1. Tutorial: Using Casbah</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="philosophy.html">2.1. Philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">2.2. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_alt.html">2.3. Alternative installation methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">2.4. Casbah Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting.html">2.5. Connecting to MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="querying.html">2.6. Querying</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">2.7. Query DSL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#query-selectors">2.7.1. Query Selectors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#comparison-operators">2.7.1.1. Comparison Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-operators">2.7.1.2. Logical Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#element-operators">2.7.1.3. Element Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#javascript-operators">2.7.1.4. JavaScript Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geospatial-operators">2.7.1.5. Geospatial Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array-query-operators">2.7.1.6. Array Query Operators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#update-dsl-operators">2.7.2. Update DSL Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#field-operators">2.7.2.1. Field Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array-update-operators">2.7.2.2. Array Update Operators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bitwise-operators">2.7.3. Bitwise Operators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html">2.8. Aggregation Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridfs.html">2.9. GridFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="serialisation.html">2.10. Serialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">3. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade.html">4. Upgrade</a></li>
</ul>
<h3 style="padding-bottom: 1em;"><a href="http://mongodb.github.io/casbah/api/#com.mongodb.casbah.package">API Documentation</a></h3>

<h3>Formats</h3>
<ul class="this-page-menu">
<li><a href="http://mongodb.github.io/casbah/CasbahDocumentation.epub">ePub</a></li>
<li><a href="http://mongodb.github.io/casbah/CasbahDocumentation.pdf">PDF</a></li>
</ul>
<h3 style="padding-bottom: 1em;"><a href="http://www.mongodb.org/about/">MongoDB.org</a></h3>
<h3 style="padding-bottom: 1em;"><a href="http://docs.mongodb.org/manual/">MongoDB Manual</a></h3>
<h3 style="padding-bottom: 1em;"><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    <p>
       &copy; <a href="">Copyright</a> 2010 MongoDB, Inc. 
       MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of 10gen, Inc.
    </p>
  </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-13']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
    url: "https://jira.mongodb.org/s/en_US-bxctp1/782/6/1.2.4/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS =  {
"triggerFunction": function(showCollectorDialog) {
jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});
jQuery("#jirafooter").click(function(e) {e.preventDefault();showCollectorDialog();});
}};
</script>
</body>
</html>